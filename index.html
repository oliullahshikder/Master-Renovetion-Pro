<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Pro V11: Perfect Video Logic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #4f46e5; --glass: rgba(15, 23, 42, 0.98); }
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #050505;
            background-image: linear-gradient(rgba(0, 255, 170, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 170, 0.03) 1px, transparent 1px);
            background-size: 40px 40px; color: white; min-height: 100vh;
            display: flex; align-items: center; justify-content: center; padding: 20px; overflow-x: hidden;
        }
        .cyber-wrapper {
            background: rgba(10, 10, 20, 0.95); border-radius: 30px;
            box-shadow: 0 0 0 1px #1e293b, 0 0 40px rgba(56, 189, 248, 0.1);
            width: 100%; max-width: 900px; padding: 30px 20px;
            position: relative; z-index: 1;
        }
        
        /* 3D BUTTONS */
        .android-btn {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 16px; padding: 10px; cursor: pointer; 
            width: 100%; height: 100px; border: none; user-select: none;
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative; top: 0; z-index: 50;
        }
        .btn-strict { background: linear-gradient(180deg, #0ea5e9 0%, #0284c7 100%); box-shadow: 0px 6px 0px #075985; }
        .btn-auto { background: linear-gradient(180deg, #d946ef 0%, #a21caf 100%); box-shadow: 0px 6px 0px #701a75; }
        .btn-reverse { background: linear-gradient(180deg, #f97316 0%, #c2410c 100%); box-shadow: 0px 6px 0px #7c2d12; }

        .android-btn:active, .android-btn.selected { 
            top: 6px; box-shadow: inset 0px 0px 10px rgba(0,0,0,0.5); 
            filter: brightness(1.1); border: 2px solid white;
        }

        /* WORKSPACE CONTAINER */
        #workspace-area {
            display: none; margin-top: 25px; padding-top: 20px;
            border-top: 1px dashed rgba(255,255,255,0.15);
            animation: slideDown 0.3s ease-out;
        }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* INPUTS */
        .input-3d { background: rgba(0,0,0,0.4); border: 1px solid #334155; border-radius: 10px; color: white; transition: 0.2s; }
        .input-3d:focus { border-color: #38bdf8; background: rgba(0,0,0,0.8); outline: none; }
        
        /* ACTION BUTTONS */
        .offline-sugg-btn { 
            background: linear-gradient(90deg, #f59e0b, #d97706); 
            padding: 8px 15px; border-radius: 8px; 
            font-size: 11px; font-weight: bold; cursor: pointer; 
            box-shadow: 0 4px 0 #92400e; color: white;
            transition: 0.1s; position: relative; z-index: 20;
        }
        .offline-sugg-btn:active { transform: translateY(4px); box-shadow: none; }

        .suggestion-btn { 
            background: linear-gradient(90deg, #8b5cf6, #ec4899); 
            padding: 8px 15px; border-radius: 8px; 
            font-size: 11px; font-weight: bold; cursor: pointer; 
            box-shadow: 0 4px 0 #be185d; color: white;
            transition: 0.1s; position: relative; z-index: 20;
        }
        .suggestion-btn:active { transform: translateY(4px); box-shadow: none; }

        .round-3d-btn { 
            width: 70px; height: 70px; border-radius: 12px; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            border: 1px solid rgba(255,255,255,0.1); cursor: pointer; 
            color: white; font-weight: bold; font-size: 10px;
            box-shadow: 0 5px 0 rgba(0,0,0,0.5); transition: 0.1s;
        }
        .round-3d-btn:active { transform: translateY(5px); box-shadow: none; }
        
        .btn-reset { background: #ef4444; box-shadow: 0 5px 0 #991b1b; }
        .btn-offline-gen { background: #eab308; box-shadow: 0 5px 0 #a16207; }
        .btn-online-gen { flex-grow: 1; height: 70px; background: linear-gradient(90deg, #3b82f6, #6366f1); border-radius: 12px; font-weight: bold; font-size: 14px; box-shadow: 0 5px 0 #3730a3; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .btn-online-gen:active { transform: translateY(5px); box-shadow: none; }

        .btn-edit { background: #10b981; padding: 10px 20px; border-radius: 8px; font-weight: bold; font-size: 12px; cursor: pointer; box-shadow: 0 4px 0 #065f46; }
        .btn-edit:active { transform: translateY(4px); box-shadow: none; }

        /* INDIVIDUAL COPY BUTTON STYLE */
        .mini-copy-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #38bdf8;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .mini-copy-btn:hover { background: #3b82f6; color: white; border-color: #60a5fa; transform: translateY(-1px); }
        .mini-copy-btn:active { transform: translateY(1px); }

        .hidden { display: none !important; }
        .prompt-card { background: #0f172a; border-left: 4px solid; padding: 15px; margin-bottom: 10px; border-radius: 8px; position: relative; }
        
        .cyber-spinner { width: 50px; height: 50px; border-radius: 50%; background: conic-gradient(#3b82f6, #ec4899, #eab308, #3b82f6); animation: spin 1s linear infinite; padding: 4px; margin: 0 auto; }
        .cyber-spinner-inner { background: #0f172a; width: 100%; height: 100%; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 10px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="cyber-wrapper flex flex-col items-center">
        <div class="text-center mb-8 w-full">
            <h1 class="text-5xl font-extrabold text-white drop-shadow-[0_0_10px_rgba(56,189,248,0.5)]">MASTER PRO</h1>
            <p class="text-[10px] text-gray-400 uppercase tracking-[0.5em] mt-1">ARCHITECTURAL LOGIC ENGINE</p>
        </div>

        <div class="grid grid-cols-3 gap-3 w-full mb-2">
            <button onclick="toggleMode('A')" id="btn-a" class="android-btn btn-strict">
                <i class="fas fa-list-ol text-2xl mb-2 text-white"></i>
                <span class="text-[10px] font-bold text-white tracking-widest">STRICT</span>
            </button>
            <button onclick="toggleMode('B')" id="btn-b" class="android-btn btn-auto">
                <i class="fas fa-magic text-2xl mb-2 text-white"></i>
                <span class="text-[10px] font-bold text-white tracking-widest">AUTO</span>
            </button>
            <button onclick="toggleMode('R')" id="btn-r" class="android-btn btn-reverse">
                <i class="fas fa-history text-2xl mb-2 text-white"></i>
                <span class="text-[10px] font-bold text-white tracking-widest">REVERSE</span>
            </button>
        </div>

        <div id="workspace-area" class="w-full">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                <div><label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Project Name</label><input type="text" id="project_name" placeholder="Project Name" class="w-full input-3d p-3 text-sm"></div>
                <div><label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Type</label><select id="project_type" class="w-full input-3d p-3 bg-[#0f172a] text-sm"><option value="Renovation">Renovation (Fix Old)</option><option value="Construction">Construction (Build New)</option></select></div>
                <div class="md:col-span-2"><label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Stages</label><select id="total_stages" onchange="renderStrictInputs()" class="w-full input-3d p-3 bg-[#0f172a] text-sm"><option value="3">3 Stages</option><option value="4">4 Stages</option><option value="5">5 Stages</option><option value="6" selected>6 Stages</option><option value="7">7 Stages</option></select></div>
            </div>
            
            <div id="container-b" class="mb-4 hidden">
                <div class="flex justify-between items-center mb-2">
                    <label class="text-[10px] font-bold text-gray-500 uppercase ml-2">Concept Description</label>
                    <div class="flex gap-2">
                        <button onclick="useBackup()" class="offline-sugg-btn"><i class="fas fa-database"></i> BACKUP</button>
                        <button id="sugg_btn" onclick="fetchSuggestion()" class="suggestion-btn"><i class="fas fa-bolt"></i> <span id="sugg_text">ONLINE IDEA</span></button>
                    </div>
                </div>
                <textarea id="auto_desc" class="w-full input-3d p-3 h-32 text-xs font-mono leading-relaxed" placeholder="Click 'ONLINE IDEA' for a detailed architectural concept..."></textarea>
            </div>

            <div id="container-a" class="space-y-2 mb-4 hidden"></div>

            <div id="container-r" class="mb-4 hidden">
                <label class="text-[10px] font-bold text-gray-500 uppercase ml-2">Final Image Description</label>
                <textarea id="rev_desc" class="w-full input-3d p-3 h-24 text-sm" placeholder="Describe the finished building..."></textarea>
            </div>
            
            <div class="flex items-center gap-2 mt-4">
                <button onclick="location.reload()" class="round-3d-btn btn-reset"><i class="fas fa-trash text-xl"></i>Reset</button>
                <button onclick="generate('online')" class="btn-online-gen text-white"><i class="fas fa-cloud-bolt mr-2"></i> GENERATE ONLINE</button>
                <button onclick="generate('offline')" class="round-3d-btn btn-offline-gen"><i class="fas fa-microchip text-xl"></i>Offline</button>
            </div>
        </div>

        <div id="result-section" class="w-full mt-8 hidden">
            <div id="loader" class="text-center mb-8 hidden">
                <div class="cyber-spinner"><div class="cyber-spinner-inner"><span id="timer">30s</span></div></div>
                <p class="text-xs text-blue-300 mt-4 font-mono animate-pulse">PROCESSING DATA...</p>
            </div>
            
            <div id="output-box" class="hidden space-y-4">
                <div class="flex justify-between items-center border-b border-gray-700 pb-2">
                    <h3 class="text-lg font-bold text-white">RESULTS</h3>
                    <span id="badge" class="text-[9px] font-bold px-2 py-1 rounded border"></span>
                </div>
                
                <div id="content-area" class="space-y-4"></div>
                
                <button onclick="copyAll()" class="w-full bg-gray-800 p-3 rounded-lg text-xs font-bold text-gray-400 hover:text-white mt-4 border border-gray-700 flex justify-center items-center gap-2 transition-all hover:border-blue-500 hover:bg-gray-700">
                    <i class="fas fa-copy"></i> COPY ALL DATA
                </button>

                <div class="bg-[#0f172a] p-4 rounded-lg border border-gray-700 mt-4">
                    <label class="text-[10px] text-gray-400 font-bold uppercase mb-2 block">Sequence Editor</label>
                    <div class="flex gap-2">
                        <input type="text" id="edit_txt" class="w-full input-3d p-2 text-xs" placeholder="e.g. Add pool after stage 3">
                        <button onclick="runEdit()" class="btn-edit text-white">APPLY</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-10 pt-6 border-t border-gray-800 text-center w-full">
            <p class="text-[10px] text-gray-500 tracking-[0.3em] mb-1">DEVELOPED BY</p>
            <h2 class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 tracking-wider drop-shadow-lg">OLIULLAH SHIKDER JEWEL</h2>
        </div>
    </div>

    <script>
        // --- 1. DATA & VARIABLES ---
        const backups = [
            "Project: Eco-Bamboo Resort. Foundation: Bamboo Stilts on water. Walls: Woven Bamboo lattice. Roof: Traditional Thatch. Landscape: Water lilies and wooden walkways.",
            "Project: Modern Concrete Mosque. Foundation: Heavy Concrete Base. Walls: White Brick with geometric holes. Roof: Golden Dome. Landscape: Rose garden and fountain.",
            "Project: Hillside Wooden Cottage. Foundation: Stone & Timber posts. Walls: Pine Wood planks. Roof: Slanted Tin roof. Landscape: Pine trees and wildflowers."
        ];
        
        let currentMode = null;
        let outputData = { images: [], videos: [], final_showcase: "" };
        let suggestionTimer = null;

        // --- 2. UI TOGGLE LOGIC ---
        function toggleMode(mode) {
            const workspace = document.getElementById('workspace-area');
            const btn = document.getElementById(`btn-${mode.toLowerCase()}`);
            
            if (currentMode === mode && workspace.style.display === 'block') {
                workspace.style.display = 'none';
                btn.classList.remove('selected');
                currentMode = null;
                return;
            }

            document.querySelectorAll('.android-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            workspace.style.display = 'block';
            currentMode = mode;

            document.getElementById('container-a').classList.add('hidden');
            document.getElementById('container-b').classList.add('hidden');
            document.getElementById('container-r').classList.add('hidden');

            if(mode === 'A') {
                document.getElementById('container-a').classList.remove('hidden');
                renderStrictInputs();
            } else if(mode === 'B') {
                document.getElementById('container-b').classList.remove('hidden');
            } else {
                document.getElementById('container-r').classList.remove('hidden');
            }
        }

        function renderStrictInputs() {
            const count = document.getElementById('total_stages').value;
            const div = document.getElementById('container-a');
            div.innerHTML = "";
            for(let i=0; i<count; i++) div.innerHTML += `<input id="inp_${i}" class="w-full input-3d p-2 text-xs" placeholder="Stage ${i+1}...">`;
        }

        // --- 3. SUGGESTION LOGIC ---
        function useBackup() {
            const box = document.getElementById('auto_desc');
            const rnd = backups[Math.floor(Math.random() * backups.length)];
            box.value = rnd;
            box.style.border = "1px solid #f59e0b"; 
            setTimeout(() => box.style.border = "1px solid #334155", 500);
        }

        async function fetchSuggestion() {
            const btn = document.getElementById('sugg_text');
            const pBtn = document.getElementById('sugg_btn');
            const box = document.getElementById('auto_desc');
            
            if(pBtn.disabled) return;
            
            box.value = "Dreaming up a concept...";
            pBtn.disabled = true;
            let time = 30;
            
            if(suggestionTimer) clearInterval(suggestionTimer);
            suggestionTimer = setInterval(() => {
                time--;
                btn.innerText = `WAIT ${time}s`;
                if(time <= 0) {
                    clearInterval(suggestionTimer);
                    useBackup(); 
                    btn.innerText = "OFFLINE";
                    pBtn.style.background = "#ef4444";
                    pBtn.disabled = false;
                }
            }, 1000);

            try {
                // REALISTIC RURAL PROMPT
                const systemPrompt = "You are a rural architect. Generate a realistic, nature-integrated concept (e.g., Bangladesh riverside, Swiss Alps, Chinese mountains). Focus on raw materials (Bamboo, Wood, Stone, Mud) and landscape (gardens, water). NO futuristic/sci-fi elements. Format: 'Project: [Name]. Site: [Location]. Materials: [Foundation/Walls/Roof]. Landscape: [Details]'. NO Markdown. Just plain text.";
                
                const res = await fetch('https://text.pollinations.ai/', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ messages: [{ role: 'system', content: systemPrompt }, { role: 'user', content: 'Give me a beautiful rural project.' }], seed: Math.floor(Math.random()*9999), model: 'openai' })
                });
                
                const text = await res.text();
                let cleanText = text.replace(/[\*#]/g, '').trim(); // Remove md
                
                clearInterval(suggestionTimer);
                box.value = cleanText;
                btn.innerText = "ONLINE OK";
                pBtn.style.background = "#22c55e";
                pBtn.disabled = false;
                
            } catch(e) {
                // Fallback handled by timer
            }
        }

        // --- 4. LOGIC ENGINE ---
        function getContext() {
            if(currentMode === 'B') return document.getElementById('auto_desc').value;
            if(currentMode === 'R') return document.getElementById('rev_desc').value;
            let txt = "";
            const c = document.getElementById('total_stages').value;
            for(let i=0; i<c; i++) txt += document.getElementById(`inp_${i}`).value + " ";
            return txt;
        }

        function getMatInfo(text) {
            const t = text.toLowerCase();
            // DETAILED ACTION CHAIN FOR SEQUENTIAL EDITING
            if(t.includes('bamboo')) return { 
                name: 'Bamboo', foundation: 'Bamboo Stilts', 
                actions: [
                    'erecting vertical bamboo poles and laying the floor grid',
                    'weaving intricate bamboo lattice walls and window frames',
                    'installing the main roof trusses using treated bamboo poles',
                    'thatching the roof and applying varnish to the structure'
                ] 
            };
            if(t.includes('wood') || t.includes('timber')) return { 
                name: 'Wood', foundation: 'Timber Posts', 
                actions: [
                    'erecting main timber columns and horizontal beams',
                    'constructing wooden walls with polished planks',
                    'installing wooden roof trusses and shingles',
                    'adding decorative wooden railings and stairs'
                ] 
            };
            if(t.includes('mud')) return { 
                name: 'Mud', foundation: 'Earth Base', 
                actions: [
                    'layering the main mud walls with straw reinforcement',
                    'smoothing the mud plaster and shaping window openings',
                    'installing the wooden roof frame over mud walls',
                    'applying final clay finish and painting traditional motifs'
                ] 
            };
            // Default Concrete
            return { 
                name: 'Concrete', foundation: 'Concrete Base', 
                actions: [
                    'installing reinforced concrete pillars and floor slabs',
                    'building brick walls and installing window frames',
                    'casting the roof structure and applying exterior plaster',
                    'painting walls and installing glass windows'
                ] 
            };
        }

        function generateLogic() {
            const ctx = getContext();
            const stages = parseInt(document.getElementById('total_stages').value);
            const type = document.getElementById('project_type').value;
            const mat = getMatInfo(ctx);
            const imgs = [], vids = [];

            for(let i=0; i<stages; i++) {
                let p = "";
                if(currentMode === 'R') {
                    p = i===0 ? `Stage 1 Final: ${ctx}` : `Stage ${i+1} Reverse: Demolition phase ${i}`;
                } else {
                    if(i===0) {
                        p = type === 'Renovation' ? 
                            `PROMPT: (Stage 1) REALISTIC RUINED ${mat.name.toUpperCase()} STRUCTURE. Broken, mossy, abandoned skeleton. Context: ${ctx}` :
                            `PROMPT: (Stage 1) REALISTIC EMPTY LAND. A vacant plot of land. No building yet. Context: Site for ${ctx}`;
                    } else if(i===1) {
                        p = type === 'Renovation' ?
                            `PROMPT: (Stage 2) Edit previous image by: Cleaning the site. Removing ALL debris/vines. The ${mat.name} skeleton stands clean.` :
                            `PROMPT: (Stage 2) Edit previous image by: Digging foundation pits and preparing the ground for ${mat.foundation}.`;
                    } else if(i===stages-1) {
                        p = `PROMPT: (Final) Edit previous image by: Adding luxury finishing, flower gardens, lighting, and polished details.`;
                    } else {
                        // SEQUENTIAL ACTION LOGIC (UNIQUE PER STAGE)
                        let actIdx = i - 2;
                        let act = mat.actions[actIdx % mat.actions.length];
                        p = `PROMPT: (Stage ${i+1}) Edit previous image by: ${act}. Constructing the main ${mat.name} structure.`;
                    }
                }
                imgs.push(p + ", 9:16 vertical ratio");
            }

            // Video Prompts with Professional Look
            for(let i=0; i<stages-1; i++) {
                let vAct = i===0 ? "clearing the site and preparing the ground" : `professional workers in matching uniforms ${mat.actions[(i-1)%mat.actions.length] || 'working on structure'}`;
                vids.push(`VIDEO PROMPT: Cinematic Time-lapse shot of 15+ ${vAct}. No voiceover, ambient sound. 4k.`);
            }
            
            // Final Beauty Showcase Video
            const beautyVid = `FINAL SHOWCASE VIDEO PROMPT: Cinematic slow motion tour of the completed ${mat.name} structure. NO people. Soothing ambient nature sounds. Ultra-realistic 4k.`;

            return { images: imgs, videos: vids, final_showcase: beautyVid };
        }

        async function generate(source) {
            const ctx = getContext();
            if(!ctx) return alert("Please enter description!");

            document.getElementById('result-section').classList.remove('hidden');
            document.getElementById('loader').classList.remove('hidden');
            document.getElementById('output-box').classList.add('hidden');

            setTimeout(() => {
                const data = generateLogic(); 
                showResult(data, source);
            }, 1500);
        }

        function showResult(data, src) {
            document.getElementById('loader').classList.add('hidden');
            document.getElementById('output-box').classList.remove('hidden');
            
            const badge = document.getElementById('badge');
            if(src === 'online') {
                badge.innerText = "ONLINE AI";
                badge.className = "text-[10px] font-bold px-2 py-1 rounded border bg-green-900 text-green-400 border-green-500";
            } else {
                badge.innerText = "OFFLINE LOGIC";
                badge.className = "text-[10px] font-bold px-2 py-1 rounded border bg-red-900 text-red-400 border-red-500";
            }

            const div = document.getElementById('content-area');
            div.innerHTML = "";
            outputData = data;

            // Render Images
            data.images.forEach((img, i) => {
                div.innerHTML += `
                <div class="prompt-card border-pink-500">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold text-pink-400">IMG ${i+1}</span>
                        <button onclick="copyContent(this)" class="mini-copy-btn"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <div class="text-xs text-gray-300 font-mono select-all content-text">${img}</div>
                </div>`;
            });

            // Render Videos
            data.videos.forEach((vid, i) => {
                div.innerHTML += `
                <div class="prompt-card border-blue-500">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold text-blue-400">VIDEO ${i+1}</span>
                        <button onclick="copyContent(this)" class="mini-copy-btn"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <div class="text-xs text-gray-300 font-mono select-all content-text">${vid}</div>
                </div>`;
            });

            // Render Final Showcase
            if(data.final_showcase) {
                div.innerHTML += `
                <div class="prompt-card border-yellow-500">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold text-yellow-400">FINAL SHOWCASE</span>
                        <button onclick="copyContent(this)" class="mini-copy-btn"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <div class="text-xs text-gray-300 font-mono select-all content-text">${data.final_showcase}</div>
                </div>`;
            }
        }

        // --- NEW COPY FUNCTIONS ---
        function copyContent(btn) {
            const text = btn.closest('.prompt-card').querySelector('.content-text').innerText;
            navigator.clipboard.writeText(text);
            const originalHTML = btn.innerHTML;
            btn.innerHTML = `<i class="fas fa-check"></i> Copied`;
            setTimeout(() => { btn.innerHTML = originalHTML; }, 1500);
        }

        function copyAll() {
            let txt = "";
            outputData.images.forEach(i => txt += i + "\n\n");
            outputData.videos.forEach(v => txt += v + "\n\n");
            if(outputData.final_showcase) txt += outputData.final_showcase + "\n";
            navigator.clipboard.writeText(txt);
            alert("All prompts copied to clipboard!");
        }
        
        function runEdit() {
            const txt = document.getElementById('edit_txt').value;
            if(!txt) return;
            outputData.images.splice(outputData.images.length-1, 0, `PROMPT: (Edited) Edit previous: ${txt}`);
            showResult(outputData, 'offline');
        }
    </script>
</body>
</html>
